<?php

function pressa_init_presets(){
    return 10;
}

function pressa_default_presets(){
  return "W3sia2V5IjoiQmx1ZSIsImJhc2VfY29sb3IiOiIjMDA4NmQwIiwidGV4dF9jb2xvciI6IiMzMzMzMzMiLCJsaW5rX2NvbG9yIjoiIzAwODZkMCIsImxpbmtfaG92ZXJfY29sb3IiOiIjMDEwOTBjIiwiaGVhZGluZ19jb2xvciI6IiMzNDM0MzQiLCJiYXNlX2NvbG9yX29wcG9zaXRlIjoiIzAwODZkMCJ9LHsia2V5IjoiUGluayIsImJhc2VfY29sb3IiOiIjZDc1MDljIiwidGV4dF9jb2xvciI6IiM2NjY2NjYiLCJsaW5rX2NvbG9yIjoiI2Q3NTA5YyIsImxpbmtfaG92ZXJfY29sb3IiOiIjZDc1MDljIiwiaGVhZGluZ19jb2xvciI6IiMyRDMyMzciLCJiYXNlX2NvbG9yX29wcG9zaXRlIjoiI2Q3NTA5YyJ9LHsia2V5IjoiQ3lhbiIsImJhc2VfY29sb3IiOiIjNWJiZmM1IiwidGV4dF9jb2xvciI6IiM2NjY2NjYiLCJsaW5rX2NvbG9yIjoiIzViYmZjNSIsImxpbmtfaG92ZXJfY29sb3IiOiIjNWJiZmM1IiwiaGVhZGluZ19jb2xvciI6IiMyRDMyMzciLCJiYXNlX2NvbG9yX29wcG9zaXRlIjoiIzViYmZjNSJ9LHsia2V5IjoiQ3lhbiAyIiwiYmFzZV9jb2xvciI6IiMwZGFjOWUiLCJ0ZXh0X2NvbG9yIjoiIzY1NjU2NSIsImxpbmtfY29sb3IiOiIjMGRhYzllIiwibGlua19ob3Zlcl9jb2xvciI6IiMwZGFjOWUiLCJoZWFkaW5nX2NvbG9yIjoiIzMzMzMzMyIsImJhc2VfY29sb3Jfb3Bwb3NpdGUiOiIjMGRhYzllIn0seyJrZXkiOiJCbHVlIiwiYmFzZV9jb2xvciI6IiMxOThkYzciLCJ0ZXh0X2NvbG9yIjoiIzY2NjY2NiIsImxpbmtfY29sb3IiOiIjMTk4ZGM3IiwibGlua19ob3Zlcl9jb2xvciI6IiMxOThkYzciLCJoZWFkaW5nX2NvbG9yIjoiIzJEMzIzNyIsImJhc2VfY29sb3Jfb3Bwb3NpdGUiOiIjMTk4ZGM3In0seyJrZXkiOiJPcmFuZ2UgMiIsImJhc2VfY29sb3IiOiIjZmY4ODMzIiwidGV4dF9jb2xvciI6IiM2NjY2NjYiLCJsaW5rX2NvbG9yIjoiI2ZmODgzMyIsImxpbmtfaG92ZXJfY29sb3IiOiIjZmY4ODMzIiwiaGVhZGluZ19jb2xvciI6IiMyRDMyMzciLCJiYXNlX2NvbG9yX29wcG9zaXRlIjoiI2ZmODgzMyJ9LHsia2V5IjoiUmVkIiwiYmFzZV9jb2xvciI6IiNlZTM1MzUiLCJsaW5rX2NvbG9yIjoiI2VlMzUzNSIsImxpbmtfaG92ZXJfY29sb3IiOiIjZWUzNTM1IiwidGV4dF9jb2xvciI6IiM2NjY2NjYiLCJoZWFkaW5nX2NvbG9yIjoiIzJEMzIzNyIsImJhc2VfY29sb3Jfb3Bwb3NpdGUiOiIjZWUzNTM1In0seyJrZXkiOiJCbHVlIiwiYmFzZV9jb2xvciI6IiM0ZDlhZTIiLCJsaW5rX2NvbG9yIjoiIzRkOWFlMiIsImxpbmtfaG92ZXJfY29sb3IiOiIjNGQ5YWUyIiwidGV4dF9jb2xvciI6IiM2NjY2NjYiLCJoZWFkaW5nX2NvbG9yIjoiIzJEMzIzNyIsImJhc2VfY29sb3Jfb3Bwb3NpdGUiOiIjNGQ5YWUyIn0seyJrZXkiOiJUYW5nZXJpbmUiLCJiYXNlX2NvbG9yIjoiI2UyNDkyZiIsImJhc2VfY29sb3Jfb3Bwb3NpdGUiOiIjZTI0OTJmIiwibGlua19jb2xvciI6IiNlMjQ5MmYiLCJsaW5rX2hvdmVyX2NvbG9yIjoiI2UyNDkyZiIsInRleHRfY29sb3IiOiIjNjY2NjY2IiwiaGVhZGluZ19jb2xvciI6IiM2NjY2NjYifSx7ImtleSI6IlByZXNldCAxMCIsImJhc2VfY29sb3IiOiIjYzc5YzYwIiwiYmFzZV9jb2xvcl9vcHBvc2l0ZSI6IiNjNzljNjAiLCJsaW5rX2NvbG9yIjoiI2EzN2I0NCIsImxpbmtfaG92ZXJfY29sb3IiOiIjYTM3YjQ0IiwidGV4dF9jb2xvciI6IiM4ODg4ODgiLCJoZWFkaW5nX2NvbG9yIjoiIzMzMzMzMyJ9XQ==";
}

function pressa_default_layouts(){
  return "W3sia2V5IjoiZGVmYXVsdCIsInRpdGxlIjoiRGVmYXVsdCIsInNlY3Rpb25zIjpbeyJrZXkiOiJ0b3AiLCJ0aXRsZSI6IlRvcCIsIndlaWdodCI6MCwiZnVsbHdpZHRoIjoibm8iLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiYmctY29sb3IiLCJyZWdpb25zIjpbeyJrZXkiOiJ0b3BfbGVmdCIsInRpdGxlIjoiVG9wIExlZnQiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjUiLCJjb2xtZCI6IjUiLCJjb2xsZyI6IjUiLCJjdXN0b21fY2xhc3MiOiJoaWRkZW4teHMgaGlkZGVuLXNtIn0seyJrZXkiOiJ0b3BfcmlnaHQiLCJ0aXRsZSI6IlRvcCBSaWdodCIsIndlaWdodCI6MSwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjciLCJjb2xsZyI6IjciLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoiaGVhZGVyIiwidGl0bGUiOiJIZWFkZXIiLCJ3ZWlnaHQiOjEsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5Ijp0cnVlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoibG9nbyIsInRpdGxlIjoiTG9nbyIsIndlaWdodCI6MCwiY29seHMiOiI2IiwiY29sc20iOiI2IiwiY29sbWQiOiIzIiwiY29sbGciOiIzIiwiY3VzdG9tX2NsYXNzIjoiIn0seyJrZXkiOiJuYXZpZ2F0aW9uIiwidGl0bGUiOiJOYXZpZ2F0aW9uIiwid2VpZ2h0IjoxLCJjb2x4cyI6IjYiLCJjb2xzbSI6IjYiLCJjb2xtZCI6IjkiLCJjb2xsZyI6IjkiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5Ijoic2xpZGVyIiwidGl0bGUiOiJTbGlkZXIiLCJ3ZWlnaHQiOjIsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJzbGlkZXIiLCJ0aXRsZSI6IlNsaWRlciIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ0YWctbGluZSIsInRpdGxlIjoiVGFnIExpbmUiLCJ3ZWlnaHQiOjMsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiJjb2xvci1vdmVybGF5LTEwMCIsInJlZ2lvbnMiOlt7ImtleSI6InRhZ2xpbmUiLCJ0aXRsZSI6IlRhZyBMaW5lIiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InBhZ2UtdGl0bGUiLCJ0aXRsZSI6IlBhZ2UgVGl0bGUiLCJ3ZWlnaHQiOjQsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6ImRtLXNoYWRvdyIsInJlZ2lvbnMiOlt7ImtleSI6ImJyZWFkY3J1bWIiLCJ0aXRsZSI6IkJyZWFkY3J1bWIiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifSx7ImtleSI6InBhZ2V0aXRsZSIsInRpdGxlIjoiUGFnZSBUaXRsZSIsIndlaWdodCI6MSwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ0b3AtY29udGVudCIsInRpdGxlIjoiRmVhdHVyZSIsIndlaWdodCI6NSwiZnVsbHdpZHRoIjoieWVzIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6ImZlYXR1cmVfZmlyc3QiLCJ0aXRsZSI6IkZlYXR1cmUiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidG9wLWNvbnRlbnQiLCJ0aXRsZSI6IlRvcCBDb250ZW50Iiwid2VpZ2h0Ijo2LCJmdWxsd2lkdGgiOiJubyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ0b3BfY29udGVudCIsInRpdGxlIjoiVG9wIENvbnRlbnQiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoibWFpbi1jb250ZW50IiwidGl0bGUiOiJNYWluIENvbnRlbnQiLCJ3ZWlnaHQiOjcsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6ImxlZnRfc2lkZWJhciIsInRpdGxlIjoiTGVmdCBzaWRlYmFyIiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiI0IiwiY29sbWQiOiIzIiwiY29sbGciOiIzIiwiY3VzdG9tX2NsYXNzIjoiIn0seyJrZXkiOiJjb250ZW50IiwidGl0bGUiOiJDb250ZW50Iiwid2VpZ2h0IjoxLCJjb2x4cyI6IjEyIiwiY29sc20iOiI4IiwiY29sbWQiOiI2IiwiY29sbGciOiI2IiwiY3VzdG9tX2NsYXNzIjoiIn0seyJrZXkiOiJyaWdodF9zaWRlYmFyIiwidGl0bGUiOiJSaWdodCBzaWRlYmFyIiwid2VpZ2h0IjoyLCJjb2x4cyI6IjEyIiwiY29sc20iOiI0IiwiY29sbWQiOiIzIiwiY29sbGciOiIzIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InVzZXItMDEiLCJ0aXRsZSI6IlVzZXIgMDEiLCJ3ZWlnaHQiOjgsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzAxIiwidGl0bGUiOiJVc2VyIDAxIiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InVzZXItMDIiLCJ0aXRsZSI6IlVzZXIgMDIiLCJ3ZWlnaHQiOjksImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6InVzZXJfMDIiLCJ0aXRsZSI6IlVzZXIgMDIiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci0wMyIsInRpdGxlIjoiVXNlciAwMyIsIndlaWdodCI6MTAsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzAzIiwidGl0bGUiOiJVc2VyIDAzIiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InVzZXItNCIsInRpdGxlIjoiVXNlciA0Iiwid2VpZ2h0IjoxMSwiZnVsbHdpZHRoIjoibm8iLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoidXNlcl8wNCIsInRpdGxlIjoiVXNlciAwNCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ1c2VyLTUiLCJ0aXRsZSI6IlVzZXIgNSIsIndlaWdodCI6MTIsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzA1IiwidGl0bGUiOiJVc2VyIDA1Iiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InVzZXItNiIsInRpdGxlIjoiVXNlciA2Iiwid2VpZ2h0IjoxMywiZnVsbHdpZHRoIjoibm8iLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoidXNlcl8wNiIsInRpdGxlIjoiVXNlciAwNiIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ1c2VyLTA3IiwidGl0bGUiOiJVc2VyIDA3Iiwid2VpZ2h0IjoxNCwiZnVsbHdpZHRoIjoieWVzIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6InVzZXJfMDciLCJ0aXRsZSI6IlVzZXIgMDciLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci0wOCIsInRpdGxlIjoiVXNlciAwOCIsIndlaWdodCI6MTUsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzA4IiwidGl0bGUiOiJVc2VyIDA4Iiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6ImNsaWVudHMiLCJ0aXRsZSI6IkNsaWVudHMiLCJ3ZWlnaHQiOjE2LCJmdWxsd2lkdGgiOiJubyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJjbGllbnQiLCJ0aXRsZSI6IkNsaWVudHMiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci0wIiwidGl0bGUiOiJVc2VyIDAiLCJ3ZWlnaHQiOjE3LCJmdWxsd2lkdGgiOiJ5ZXMiLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoidXNlcl8wMCIsInRpdGxlIjoiVXNlciAwMCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJib3R0b20iLCJ0aXRsZSI6IkJvdHRvbSIsIndlaWdodCI6MTgsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIzE3MTkxYiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJib3R0b21fZmlyc3QiLCJ0aXRsZSI6IkJvdHRvbSBGaXJzdCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiNiIsImNvbG1kIjoiMyIsImNvbGxnIjoiMyIsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiYm90dG9tX3NlY29uZCIsInRpdGxlIjoiQm90dG9tIFNlY29uZCIsIndlaWdodCI6MSwiY29seHMiOiIxMiIsImNvbHNtIjoiNiIsImNvbG1kIjoiMyIsImNvbGxnIjoiMyIsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiYm90dG9tX3RoaXJkIiwidGl0bGUiOiJCb3R0b20gVGhpcmQiLCJ3ZWlnaHQiOjIsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjYiLCJjb2xtZCI6IjMiLCJjb2xsZyI6IjMiLCJjdXN0b21fY2xhc3MiOiIifSx7ImtleSI6ImJvdHRvbV9mb3VydGgiLCJ0aXRsZSI6IkJvdHRvbSBGb3VydGgiLCJ3ZWlnaHQiOjMsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjYiLCJjb2xtZCI6IjMiLCJjb2xsZyI6IjMiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoiZm9vdGVyIiwidGl0bGUiOiJGb290ZXIiLCJ3ZWlnaHQiOjE5LCJmdWxsd2lkdGgiOiJubyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJjb3B5cmlnaHQiLCJ0aXRsZSI6IkNvcHlyaWdodCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ1bmFzc2lnbmVkIiwidGl0bGUiOiJVbmFzc2lnbmVkIiwid2VpZ2h0IjoyMCwiZnVsbHdpZHRoIjoibm8iLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoiZGFzaGJvYXJkX21haW4iLCJ0aXRsZSI6IkRhc2hib2FyZCAobWFpbikiLCJ3ZWlnaHQiOjAsImNvbHhzIjoxMiwiY29sc20iOjEyLCJjb2xtZCI6NiwiY29sbGciOjYsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiZGFzaGJvYXJkX3NpZGViYXIiLCJ0aXRsZSI6IkRhc2hib2FyZCAoc2lkZWJhcikiLCJ3ZWlnaHQiOjEsImNvbHhzIjoxMiwiY29sc20iOjEyLCJjb2xtZCI6NiwiY29sbGciOjYsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5Ijoic2VhcmNoIiwidGl0bGUiOiJTZWFyY2giLCJ3ZWlnaHQiOjIsImNvbHhzIjoiMiIsImNvbHNtIjoiMSIsImNvbG1kIjoiMSIsImNvbGxnIjoiMSIsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiZGFzaGJvYXJkX2luYWN0aXZlIiwidGl0bGUiOiJEYXNoYm9hcmQgKGluYWN0aXZlKSIsIndlaWdodCI6MywiY29seHMiOjEyLCJjb2xzbSI6MTIsImNvbG1kIjo2LCJjb2xsZyI6NiwiY3VzdG9tX2NsYXNzIjoiIn1dfV0sInBhZ2VzIjoiIn0seyJrZXkiOiJvbmUtcGFnZSIsInRpdGxlIjoiT25lIFBhZ2UiLCJzZWN0aW9ucyI6W3sia2V5IjoidG9wIiwidGl0bGUiOiJUb3AiLCJ3ZWlnaHQiOjAsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6ImJnLWNvbG9yIiwicmVnaW9ucyI6W3sia2V5IjoidG9wX2xlZnQiLCJ0aXRsZSI6IlRvcCBMZWZ0Iiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiI1IiwiY29sbWQiOiI1IiwiY29sbGciOiI1IiwiY3VzdG9tX2NsYXNzIjoiaGlkZGVuLXhzIGhpZGRlbi1zbSJ9LHsia2V5IjoidG9wX3JpZ2h0IiwidGl0bGUiOiJUb3AgUmlnaHQiLCJ3ZWlnaHQiOjEsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiI3IiwiY29sbGciOiI3IiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6ImhlYWRlciIsInRpdGxlIjoiSGVhZGVyIiwid2VpZ2h0IjoxLCJmdWxsd2lkdGgiOiJubyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6dHJ1ZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6ImxvZ28iLCJ0aXRsZSI6IkxvZ28iLCJ3ZWlnaHQiOjAsImNvbHhzIjoiOCIsImNvbHNtIjoiMTAiLCJjb2xtZCI6IjMiLCJjb2xsZyI6IjMiLCJjdXN0b21fY2xhc3MiOiIifSx7ImtleSI6Im5hdmlnYXRpb24iLCJ0aXRsZSI6Ik5hdmlnYXRpb24iLCJ3ZWlnaHQiOjEsImNvbHhzIjoiNiIsImNvbHNtIjoiNiIsImNvbG1kIjoiOSIsImNvbGxnIjoiOSIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJzbGlkZXIiLCJ0aXRsZSI6IlNsaWRlciIsIndlaWdodCI6MiwiZnVsbHdpZHRoIjoieWVzIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6InNsaWRlciIsInRpdGxlIjoiU2xpZGVyIiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InRhZy1saW5lIiwidGl0bGUiOiJUYWcgTGluZSIsIndlaWdodCI6MywiZnVsbHdpZHRoIjoieWVzIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6ImNvbG9yLW92ZXJsYXktMTAwIiwicmVnaW9ucyI6W3sia2V5IjoidGFnbGluZSIsInRpdGxlIjoiVGFnIExpbmUiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoicGFnZS10aXRsZSIsInRpdGxlIjoiUGFnZSBUaXRsZSIsIndlaWdodCI6NCwiZnVsbHdpZHRoIjoibm8iLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiZG0tc2hhZG93IiwicmVnaW9ucyI6W3sia2V5IjoiYnJlYWRjcnVtYiIsInRpdGxlIjoiQnJlYWRjcnVtYiIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoicGFnZXRpdGxlIiwidGl0bGUiOiJQYWdlIFRpdGxlIiwid2VpZ2h0IjoxLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InRvcC1jb250ZW50IiwidGl0bGUiOiJGZWF0dXJlIiwid2VpZ2h0Ijo1LCJmdWxsd2lkdGgiOiJ5ZXMiLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoiZmVhdHVyZV9maXJzdCIsInRpdGxlIjoiRmVhdHVyZSIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ0b3AtY29udGVudCIsInRpdGxlIjoiVG9wIENvbnRlbnQiLCJ3ZWlnaHQiOjYsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6InRvcF9jb250ZW50IiwidGl0bGUiOiJUb3AgQ29udGVudCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJtYWluLWNvbnRlbnQiLCJ0aXRsZSI6Ik1haW4gQ29udGVudCIsIndlaWdodCI6NywiZnVsbHdpZHRoIjoibm8iLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoibGVmdF9zaWRlYmFyIiwidGl0bGUiOiJMZWZ0IHNpZGViYXIiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjMiLCJjb2xtZCI6IjMiLCJjb2xsZyI6IjMiLCJjdXN0b21fY2xhc3MiOiIifSx7ImtleSI6ImNvbnRlbnQiLCJ0aXRsZSI6IkNvbnRlbnQiLCJ3ZWlnaHQiOjEsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjYiLCJjb2xtZCI6IjYiLCJjb2xsZyI6IjYiLCJjdXN0b21fY2xhc3MiOiIifSx7ImtleSI6InJpZ2h0X3NpZGViYXIiLCJ0aXRsZSI6IlJpZ2h0IHNpZGViYXIiLCJ3ZWlnaHQiOjIsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjMiLCJjb2xtZCI6IjMiLCJjb2xsZyI6IjMiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci00IiwidGl0bGUiOiJVc2VyIDQiLCJ3ZWlnaHQiOjgsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzA0IiwidGl0bGUiOiJVc2VyIDA0Iiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InVzZXItMDEiLCJ0aXRsZSI6IlVzZXIgMDEiLCJ3ZWlnaHQiOjksImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzAxIiwidGl0bGUiOiJVc2VyIDAxIiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InVzZXItMDIiLCJ0aXRsZSI6IlVzZXIgMDIiLCJ3ZWlnaHQiOjEwLCJmdWxsd2lkdGgiOiJ5ZXMiLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoidXNlcl8wMiIsInRpdGxlIjoiVXNlciAwMiIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ1c2VyLTAzIiwidGl0bGUiOiJVc2VyIDAzIiwid2VpZ2h0IjoxMSwiZnVsbHdpZHRoIjoieWVzIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6InVzZXJfMDMiLCJ0aXRsZSI6IlVzZXIgMDMiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci02IiwidGl0bGUiOiJVc2VyIDYiLCJ3ZWlnaHQiOjEyLCJmdWxsd2lkdGgiOiJubyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzA2IiwidGl0bGUiOiJVc2VyIDA2Iiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6InVzZXItNSIsInRpdGxlIjoiVXNlciA1Iiwid2VpZ2h0IjoxMywiZnVsbHdpZHRoIjoieWVzIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6InVzZXJfMDUiLCJ0aXRsZSI6IlVzZXIgMDUiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci0wNyIsInRpdGxlIjoiVXNlciAwNyIsIndlaWdodCI6MTQsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIiwic3RpY2t5IjpmYWxzZSwidnBob25lIjpmYWxzZSwidnRhYmxldCI6ZmFsc2UsInZkZXNrdG9wIjpmYWxzZSwiaHBob25lIjpmYWxzZSwiaHRhYmxldCI6ZmFsc2UsImhkZXNrdG9wIjpmYWxzZSwiY29scGFkZGluZyI6IiIsImN1c3RvbV9jbGFzcyI6IiIsInJlZ2lvbnMiOlt7ImtleSI6InVzZXJfMDciLCJ0aXRsZSI6IlVzZXIgMDciLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci0wOCIsInRpdGxlIjoiVXNlciAwOCIsIndlaWdodCI6MTUsImZ1bGx3aWR0aCI6InllcyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJ1c2VyXzA4IiwidGl0bGUiOiJVc2VyIDA4Iiwid2VpZ2h0IjowLCJjb2x4cyI6IjEyIiwiY29sc20iOiIxMiIsImNvbG1kIjoiMTIiLCJjb2xsZyI6IjEyIiwiY3VzdG9tX2NsYXNzIjoiIn1dfSx7ImtleSI6ImNsaWVudHMiLCJ0aXRsZSI6IkNsaWVudHMiLCJ3ZWlnaHQiOjE2LCJmdWxsd2lkdGgiOiJubyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJjbGllbnQiLCJ0aXRsZSI6IkNsaWVudHMiLCJ3ZWlnaHQiOjAsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjEyIiwiY29sbWQiOiIxMiIsImNvbGxnIjoiMTIiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoidXNlci0wIiwidGl0bGUiOiJVc2VyIDAiLCJ3ZWlnaHQiOjE3LCJmdWxsd2lkdGgiOiJ5ZXMiLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoidXNlcl8wMCIsInRpdGxlIjoiVXNlciAwMCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJib3R0b20iLCJ0aXRsZSI6IkJvdHRvbSIsIndlaWdodCI6MTgsImZ1bGx3aWR0aCI6Im5vIiwiYmFja2dyb3VuZGNvbG9yIjoiIzE3MTkxYiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJib3R0b21fZmlyc3QiLCJ0aXRsZSI6IkJvdHRvbSBGaXJzdCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiNiIsImNvbG1kIjoiMyIsImNvbGxnIjoiMyIsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiYm90dG9tX3NlY29uZCIsInRpdGxlIjoiQm90dG9tIFNlY29uZCIsIndlaWdodCI6MSwiY29seHMiOiIxMiIsImNvbHNtIjoiNiIsImNvbG1kIjoiMyIsImNvbGxnIjoiMyIsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiYm90dG9tX3RoaXJkIiwidGl0bGUiOiJCb3R0b20gVGhpcmQiLCJ3ZWlnaHQiOjIsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjYiLCJjb2xtZCI6IjMiLCJjb2xsZyI6IjMiLCJjdXN0b21fY2xhc3MiOiIifSx7ImtleSI6ImJvdHRvbV9mb3VydGgiLCJ0aXRsZSI6IkJvdHRvbSBGb3VydGgiLCJ3ZWlnaHQiOjMsImNvbHhzIjoiMTIiLCJjb2xzbSI6IjYiLCJjb2xtZCI6IjMiLCJjb2xsZyI6IjMiLCJjdXN0b21fY2xhc3MiOiIifV19LHsia2V5IjoiZm9vdGVyIiwidGl0bGUiOiJGb290ZXIiLCJ3ZWlnaHQiOjE5LCJmdWxsd2lkdGgiOiJubyIsImJhY2tncm91bmRjb2xvciI6IiIsInN0aWNreSI6ZmFsc2UsInZwaG9uZSI6ZmFsc2UsInZ0YWJsZXQiOmZhbHNlLCJ2ZGVza3RvcCI6ZmFsc2UsImhwaG9uZSI6ZmFsc2UsImh0YWJsZXQiOmZhbHNlLCJoZGVza3RvcCI6ZmFsc2UsImNvbHBhZGRpbmciOiIiLCJjdXN0b21fY2xhc3MiOiIiLCJyZWdpb25zIjpbeyJrZXkiOiJjb3B5cmlnaHQiLCJ0aXRsZSI6IkNvcHlyaWdodCIsIndlaWdodCI6MCwiY29seHMiOiIxMiIsImNvbHNtIjoiMTIiLCJjb2xtZCI6IjEyIiwiY29sbGciOiIxMiIsImN1c3RvbV9jbGFzcyI6IiJ9XX0seyJrZXkiOiJ1bmFzc2lnbmVkIiwidGl0bGUiOiJVbmFzc2lnbmVkIiwid2VpZ2h0IjoyMCwiZnVsbHdpZHRoIjoibm8iLCJiYWNrZ3JvdW5kY29sb3IiOiIiLCJzdGlja3kiOmZhbHNlLCJ2cGhvbmUiOmZhbHNlLCJ2dGFibGV0IjpmYWxzZSwidmRlc2t0b3AiOmZhbHNlLCJocGhvbmUiOmZhbHNlLCJodGFibGV0IjpmYWxzZSwiaGRlc2t0b3AiOmZhbHNlLCJjb2xwYWRkaW5nIjoiIiwiY3VzdG9tX2NsYXNzIjoiIiwicmVnaW9ucyI6W3sia2V5IjoiZGFzaGJvYXJkX21haW4iLCJ0aXRsZSI6IkRhc2hib2FyZCAobWFpbikiLCJ3ZWlnaHQiOjAsImNvbHhzIjoxMiwiY29sc20iOjEyLCJjb2xtZCI6NiwiY29sbGciOjYsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiZGFzaGJvYXJkX3NpZGViYXIiLCJ0aXRsZSI6IkRhc2hib2FyZCAoc2lkZWJhcikiLCJ3ZWlnaHQiOjEsImNvbHhzIjoxMiwiY29sc20iOjEyLCJjb2xtZCI6NiwiY29sbGciOjYsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5Ijoic2VhcmNoIiwidGl0bGUiOiJTZWFyY2giLCJ3ZWlnaHQiOjIsImNvbHhzIjoiMiIsImNvbHNtIjoiMSIsImNvbG1kIjoiMSIsImNvbGxnIjoiMSIsImN1c3RvbV9jbGFzcyI6IiJ9LHsia2V5IjoiZGFzaGJvYXJkX2luYWN0aXZlIiwidGl0bGUiOiJEYXNoYm9hcmQgKGluYWN0aXZlKSIsIndlaWdodCI6MywiY29seHMiOjEyLCJjb2xzbSI6MTIsImNvbG1kIjo2LCJjb2xsZyI6NiwiY3VzdG9tX2NsYXNzIjoiIn1dfV0sInBhZ2VzIjoibm9kZVwvNDEifV0=";
}

function pressa_preprocess_node(&$variables) {
  global $user;
  $node = $variables['node'];
  // Display post information only on certain node types.
  if ($node->type == "blog_post" || $node->type == "article") {
    $variables['blog_categories'] = '';
    $variables['blog_tags'] = '';
    if (!empty($node->field_blog_categories)) {
      $categories = pressa_format_comma_field('field_blog_categories', $node);
      $variables['blog_categories'] = $categories;
    }
    if (!empty($node->field_tags)) {
      $tags = pressa_format_comma_field('field_tags', $node);
      $variables['blog_tags'] = $tags;
    }
  }

  if ($node->type == "book") {
    $variables['book_categories'] = '';
    if (!empty($node->field_book_categories)) {
      $categories = pressa_format_comma_field('field_book_categories', $node);
      $variables['book_categories'] = $categories;
    }
  }

  // Product Display
  $variables['reward_title'] = FALSE;
  if ($node->type == 'product_display') {
    $view = views_get_view('product_review');
    $view->set_display('block');
    $view->set_arguments(array($node->nid));
    // change the amount of items to show
    $view->set_items_per_page(0);
    $view->pre_execute();
    $view->execute();

    $variables['testimonial_count'] = count($view->result) ? ' (' . count($view->result) . ')': '';
    $nid = $node->nid;
      if (!count($view->result)) {
      $nid = db_query('SELECT distinct field_product_reference_target_id FROM field_data_field_product_reference ORDER BY RAND() LIMIT 1')->fetchField();
    }
    if (count($view->result) > 50) {
      $variables['more_testimonials'] = TRUE;
    }
    $view = views_get_view('product_review');
    $view->set_display('block');
    $view->set_arguments(array($nid));
    // change the amount of items to show
    $view->set_items_per_page(50);
    $view->pre_execute();
    $view->execute();

    $variables['testimonial'] = $view->render();

    $wrapper = entity_metadata_wrapper('node', $node);
    $variations = $wrapper->field_product->value();
    $variables['p_custom_classes'] = '';
    $range = array();
    foreach($variations as $product) {
      if (!empty($product->field_product_campaign['und'])) {
        $campaigns = $product->field_product_campaign['und'];
        foreach ($campaigns as $campaign) {
          if ($campaign['value'] == '11111111') {
            $variables['reward_title'] = TRUE;
          }
        }
      }

      if (empty($product->commerce_price['und'][0]['original'])) {
        $price = commerce_product_calculate_sell_price($product);
      }
      else {
        $price = $product->commerce_price['und'][0];
      }

      $amount = number_format($price['amount']/100, 2);
      $range[] = $price['amount']/100;
    }
    $min = number_format(min($range), 2);
    $max = number_format(max($range), 2);
    $variables['range']['min'] = $min;
    $variables['range']['max'] = $max;

    if ($min == $max) {
      $variables['range']['same'] = $min;
    }

    if (count($range) > 1) {
      $variables['p_custom_classes'] = 'not-selected';
    }

    if ($variables['reward_title'] && $current_node = menu_get_object()) {
      if ($current_node->nid === $node->nid) {
        $reward_points = '';
        if ($min != $max) {
          $reward_points = round($min * 5) . ' - ' . round($max * 5);
        }
        else {
          $reward_points = round($min * 5);
        }
        $variables['reward_points'] = $reward_points;
        $variables['reward_title'] = 'Qualifies for ' . $reward_points . ' or More Rewards Points';
      }
      // Check if user is reward-retail role
      $variables['reward_retails'] = FALSE;
      $variables['non_reward_retails'] = FALSE;
      if (in_array(48, array_keys($user->roles))) {
        $variables['reward_retails'] = TRUE;
      }
      elseif (!$user->uid || in_array(4, array_keys($user->roles)) || in_array(7, array_keys($user->roles))) {
        $variables['non_reward_retails'] = TRUE;
      }
    }
  }
}

function pressa_format_comma_field($field_category, $node, $limit = NULL) {
  $category_arr = array();
  $field = field_get_items('node', $node, $field_category);
  if (!empty($field)) {
    foreach ($field as $item) {
      $term = taxonomy_term_load($item['tid']);
      if ($term) {
        if (module_exists('i18n_taxonomy')) {
          $term_name = i18n_taxonomy_term_name($term, $node->language);
        } else {
          $term_name = $term->name;
        }
        $category_arr[] = l($term_name, 'taxonomy/term/' . $item['tid']);
      }
      if ($limit) {
        if (count($category_arr) == $limit) {
          $category = implode(', ', $category_arr);
          return $category;
        }
      }
    }
  }
  $category = implode(', ', $category_arr);
  return $category;
}

/**
 * Implement hook_form_comment_form_alter().
 */
function pressa_form_comment_form_alter(&$form, &$form_state, $form_id) {
  $form['actions']['submit']['#value'] = t('POST COMMENT');
}

function pressa_breadcrumb($variables) {

  // Convenience variable:
  $breadcrumb = $variables['breadcrumb'];

  // Add path to breadcrum
  $paths = explode('/',drupal_get_path_alias());
  $content_alias = array('blog', 'tips', 'newsletters');
  array_pop($paths);
  if(is_array($paths) && isset($paths[0]) && in_array($paths[0], $content_alias)) {
    if (strpos(current_path(), 'node') !== FALSE) {
      $breadcrumb[] = l($paths[0], $paths[0]);
    }
  }

  $breadcrumb[] = drupal_get_title();


  // If we have any breadcrumbs:
  if (!empty($breadcrumb) && (count($breadcrumb) > 1)) {
    // Convert 'em to a string:
    $breadcrumbs = implode(' <span class="divider">/</span> ', $breadcrumb);
    // Build a heading--here at least, we're following the D7 convention of
    // accompanying menus with invisible headings to aid in text-only navigation:
    $heading = t('You are here');
    // Pattern for output:
    $output_pattern = '<h2 class="element-invisible">%s</h2><ul class="breadcrumb">%s</ul>';
    // Return the markup:
    return sprintf($output_pattern, $heading, $breadcrumbs);
  }
}

/**
 * Implement hook_form_search_block_form_alter().
 */
function pressa_form_search_block_form_alter(&$form) {
  $form['search_block_form']['#attributes']['placeholder'] = t('Start Type or Press ESC to exit!');
  $form['actions']['#attributes']['class'][] = 'element-invisible';
}

//Improve HTML Validator
function pressa_preprocess_image(&$vars) {
    if (!isset($vars['attributes']['alt'])) {
        $vars['attributes']['alt'] = '';
    }
}

define('VENDOR_RID', 8);
define('GOLD_RID', 9);
define('PLATINUM', 22);
function pressa_preprocess_html(&$vars) {

  global $user;
  $current_path = current_path();
  if (strpos($current_path, 'cart') !== false || strpos($current_path, 'checkout') !== false) {
    $vars['classes_array'][] = 'notranslate';
  }

  if (isset($_GET['pass-reset-token'])) {
    $vars['classes_array'][] = 'pass-reset';
  }

  if(array_key_exists(VENDOR_RID, $user->roles)){
    $vars['classes_array'][] = 'vendor';
  } else if (array_key_exists(GOLD_RID, $user->roles)) {
    $vars['classes_array'][] = 'gold';
  } else if (array_key_exists(PLATINUM, $user->roles)) {
    $vars['classes_array'][] = 'platinum';
  } else {
    $vars['classes_array'][] = 'normal';
  }



  //Process portfolio color
  if ($portfolio_category = taxonomy_vocabulary_machine_name_load('portfolio_category')) {
    $terms = taxonomy_get_tree($portfolio_category->vid);
    $less = new lessc();
    $css = '';
    $color = '';
    $class = '';
    foreach ($terms as $t) {
      $term = taxonomy_term_load($t->tid);
      $class = drupal_html_class($t->name);
      if (!empty($term->field_term_color)) {
        foreach ($term->field_term_color as $v) {
          $color = $v[0]['value'];
          break;
        }
      }
      if ($color) {
        $css .= ".dexp-masonry-filter,.dexp-portfolio-filter{.{$class}.active span,.{$class}:hover span{color: {$color} !important;}}";
        $css .= ".{$class} .portfolio-overlay{background-color: rgba(red({$color}), green({$color}), blue({$color}), 0.7) !important;}";
      }
    }
    $css = $less->compile($css);
    drupal_add_css($css, array('type' => 'inline'));
  }
  if (in_array('page-checkout-complete', $vars['classes_array'])) {
/*
    $taboola_make_purchase_script = array(
      '#tag' => 'script',
      '#value' => "window._tfa.push({notify: 'event', name: 'make_purchase', id: 1166968});",
    );

    drupal_add_html_head($taboola_make_purchase_script, 'taboola_make_purchase_script');

    $taboola_img = array(
      '#theme' => 'html_tag',
      '#tag' => 'img',
      '#attributes' => array(
        'src' => '//trc.taboola.com/1166968/log/3/unip?en=make_purchase',
        'width' => '0',
        'height' => '0',
        'style' => 'display:none'
      )
    );
    $taboola_make_purchase_noscript = array(
      '#theme' => 'html_tag',
      '#tag' => 'noscript',
      '#value' => drupal_render($taboola_img)
    );

    drupal_add_html_head($taboola_make_purchase_noscript, 'taboola_make_purchase_noscript');
*/
  }
}

/**
 * Implements theme_html_head_alter().
 * Removes the Generator tag from the head for Drupal 7
 */
function pressa_html_head_alter(&$head_elements) {
  unset($head_elements['metatag_generator_0']);
}

/**
 * Implements hook_preprocess_maintenance_page().
 */
function pressa_preprocess_maintenance_page(&$variables) {

  if (!$variables['db_is_active']) {
    $variables['site_name'] = '';
  }
  drupal_add_css(drupal_get_path('theme', 'bartik') . '/css/maintenance-page.css');
  drupal_add_css(drupal_get_path('theme', 'drupalexp') . '/vendor/bootstrap/css/bootstrap.min.css');
}

/**
 * Implements hook_preprocess_page().
 */
function pressa_preprocess_page(&$vars) {
 global $user;
 $status = drupal_get_http_header("status");
  if(isset($status) && $status == '403 Forbidden') {
    $denied = array();
    if (is_numeric(arg(1))) {
      $node = node_load(arg(1));
      if ($node && $node->type == 'back_office_pages') {
        if ($denied = variable_get($node->nid . '_back_office_pages_denied')) {
          $vars['title'] = $denied['title'];
          $vars['page']['content']['system_main']['main']['#markup'] = $denied['message']['value'];
        }
      }
    }
    if (empty($denied)) {
      if (!$user->uid) {
        $login_with_dest = url('user/login', array(
          'query' => array(
            'destination' => current_path(),
          )
        ));
        $vars['title'] = 'Members Only';
        $vars['page']['content']['system_main']['main']['#markup'] = t('You have accessed a page that requires you to be logged into your account, Click <a href="@link">Here</a> to Login..', array('@link' => $login_with_dest));
      }
      else {
        $vars['page']['content']['system_main']['main']['#markup'] = t('You have accessed a page that you account does not have access to. If you think that you should have access to it, please submit a support ticket with the URL you are trying to access.');
      }
    }
    if (arg(0) == 'node' && is_numeric(arg(1))) {
      $nid = arg(1);
      $node = node_load($nid);
      if ($node->type == 'product_display') {
        header('Location: https://rtpr.com/shop');
        drupal_exit();
      }
    }
  }

 if (isset($vars['node'])) {
    if ($vars['node']->type == 'landing_page') {
    $vars['title'] = FALSE;
    unset($vars['page']['right_sidebar']);
/*
    unset($vars['page']['navigation']);
    unset($vars['page']['breadcrumb']);
    unset($vars['page']['pagetitle']);
    unset($vars['page']['top_right']);
    unset($vars['logo']);
    unset($vars['page']['user_00']);
    unset($vars['page']['copyright']);
*/
    drupal_add_css(drupal_get_path('theme', 'pressa') . '/assets/assets/theme/css/style.css');
    }
  }

  /*if (rtpr_commerce_is_buck_order()) {
    $vars['classes_array'][] = 'rptr-buck-order';
    unset($vars['page']['right_sidebar']);
    unset($vars['page']['navigation']);
    unset($vars['page']['breadcrumb']);
    unset($vars['page']['pagetitle']);
    unset($vars['page']['top_right']['menu_menu-user-menu'][702]);
  }*/
}

/**
 * Implements hook_css_alter().
 */
function pressa_css_alter(&$css) {
  foreach ($css as $key => $cs) {
    if (strpos($key, 'assets/assets/theme/css/style.css') !== FALSE) {
      unset($css['sites/all/themes/drupalexp/vendor/bootstrap/css/bootstrap.min.css']);
      break;
    }
  }
}

/**
 *
 */
function pressa_preprocess_sharethis(&$variables) {
  global $user;

  if (menu_get_object() || isset($variables['data_options']['node_type'])) {
    $node = menu_get_object();
    if ($node->type == 'share' || (isset($variables['data_options']['node_type']) && $variables['data_options']['node_type'] == 'share')) {
      $variables['data_options']['buttons'] = 'stbc_large';
      if ($user->uid) {
        $account_wrapper = entity_metadata_wrapper('user', $user);
        $pap_id = $account_wrapper->field_pap_affiliate_id->value();


        if ($pap_id) {
          $variables['m_path'] = $variables['m_path'] . '/' . $pap_id;
        }
        elseif (in_array(7, array_keys($user->roles))) {
          $variables['m_path'] = $variables['m_path'] . '/' . $user->uid;
        }
      }
      else {
        if (isset($_COOKIE['Drupal_visitor_pap_id'])) {
          $variables['m_path'] = $variables['m_path'] . '/' . $_COOKIE['Drupal_visitor_pap_id'];
        }
      }
    }
  }
}

